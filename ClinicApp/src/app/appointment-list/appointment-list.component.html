<p>appointment-list works!</p>

<form name="docform" #form="ngForm" (ngSubmit) = "readForm(form)">
    <!--
    <div class="form-group">
        <label>Doctor ID</label>
        <input type="number"  name="DoctorId" #DoctorId="ngModel" 
        [(ngModel)]="frontOfficeService.currentDoctor.DoctorId" class="form-control" 
        place holder="Enter Doctor ID" required />       
    </div>
-->
    <!--Doctor dropdown-->
    
    <div class="form-group">
        <label class="col-md-4">Doctor</label>
        <select name="DoctorId" id="DoctorId" class="form-control" #DoctorId="ngModel" required
            [(ngModel)]="frontOfficeService.formData.DoctorId">
            <option value=0 disabled>Choose Doctor</option>
            <option *ngFor="let doctor of frontOfficeService.doctors" value="{{doctor.DoctorId}}">{{doctor.StaffName}}
            </option>
        </select>
        <div class="validation-error" *ngIf="DoctorId.touched 
        && DoctorId.invalid">
            <div *ngIf="DoctorId.errors.required">
                Doctor is required</div>
        </div>
    </div>
    <!--Date-->

    <div class="form-group">
        <label>Date</label>
        <input type="date" name="DateOfAppointment" id="DateOfAppointment"  #DoJ="ngModel" 
        [(ngModel)]="frontOfficeService.currentDoctor.DateOfAppointment" class="form-control" required />
    </div>
    <br>

    <!--[disabled]="!(form.valid && form.dirty)" //this line not needed-->

    <div class="form-group">
        <button type="submit" class="btn btn-lg btn-primary form-control"> 
         Submit
        </button>
    </div>
</form>

<div class="container">
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>Appointment No</th>
                <th>Appointment Date</th>
                <th>Appointment Time</th>
                <th>Patient Id</th>
                <th>Doctor Id</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <tr
                *ngFor="let front of frontOfficeService.appointments | filter: filter | paginate: {itemsPerPage: 5, currentPage: page}">
                <ng-container *ngIf="front.Isactive">
                    <td (click)="populateForm(front)">{{front.AppointmentNo}}</td>
                    <td (click)="populateForm(front)">{{front.AppointmentDate | date:'dd-MM-yyyy'}}</td>
                    <td (click)="populateForm(front)">{{front.AppointmentTime}}</td>
                    <td (click)="populateForm(front)">{{front.PatientId}}</td>
                    <td (click)="populateForm(front)">{{front.DoctorId}}</td>
                    <td>
                        <button class="btn btn-sm btn-outline-danger"
                            (click)="deleteAppointment(front.AppointmentNo)">X</button>&nbsp;
                        <button class="btn btn-sm btn-info" (click)="populateForm(front)">Edit</button>
                        
                    </td>
                </ng-container>
            </tr>
        </tbody>
    </table>
    
    <div class="footer">
        <!--Pagination-->
        <pagination-controls (pageChange)="page=($event)"></pagination-controls>
    </div>
    <button class="btn btn-sm btn-primary" (click)="back()">Back</button>
</div>
