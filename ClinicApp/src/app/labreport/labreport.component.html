<body>
    <div class="box">
        <h2 style="text-align:center;">Lab report Form</h2>

        <!--Designing Lab Report-->
        <!--justify-content: center;align-items: center;display: flex;-->
        <form name="labForm" #labForm="ngForm" (ngSubmit)="onSubmit(labForm)">
            <!--ReportNo-->
            <div class="form-group">
                <label for="ReportNo"></label>
                <input type="hidden" name="ReportNo" #ReportNo="ngModel" [(ngModel)]="labService.formLab.ReportNo"
                    class="form-control" required [ngClass]="{'is-invalid': ReportNo.touched && ReportNo.invalid}" />
                <!--<span style="color: red;"> Keep Report No as 0 for inserting report</span>-->

                <div class="validation-errors" *ngIf="ReportNo.touched && ReportNo.invalid">
                    <div  style="color: red; text-align: left;" *ngIf="ReportNo.errors.required">Report No is required</div>
                </div>
            </div>

            <!--ReportTitle-->
            <br>
            <div class="form-group">
                <label for="ReportTitle">Report Title</label>
                <input type="text" name="ReportTitle" #ReportTitle="ngModel"
                    [(ngModel)]="labService.formLab.ReportTitle" class="form-control" required
                    [ngClass]="{'is-invalid': ReportTitle.touched && ReportTitle.invalid}" />
                <div class="validation-errors" *ngIf="ReportTitle.touched && ReportTitle.invalid">
                    <div  style="color: red; text-align: left;" *ngIf="ReportTitle.errors.required">Report Title is required</div>
                </div>

            </div>

            <!--ReportDate-->
            <br>
            <div class="form-group">
                <label for="ReportDate">Report Date</label>
                <input type="date" name="ReportDate" #ReportDate="ngModel" [(ngModel)]="labService.formLab.ReportDate"
                    class="form-control" required
                    [ngClass]="{'is-invalid': ReportDate.touched && ReportDate.invalid}" />
                <div class="validation-errors" *ngIf="ReportDate.touched && ReportDate.invalid">
                    <div  style="color: red; text-align: left;" *ngIf="ReportDate.errors.required">Report Date is required</div>
                </div>

            </div>


            <!--Description-->
            <br>
            <div class="form-group">
                <label for="Description">Description</label>
                <input type="text" name="Description" #Description="ngModel"
                    [(ngModel)]="labService.formLab.Description" class="form-control" required
                    [ngClass]="{'is-invalid': Description.touched && Description.invalid}" />
                <div class="validation-errors" *ngIf="Description.touched && ReportTitle.invalid">
                    <div  style="color: red; text-align: left;" *ngIf="Description.errors.required">Description is required</div>
                </div>

            </div>


            <!--PatientName-->

            <br>
            <div class="form-group">
                <label class="col-md-4">Patient Name</label>
                <select name="PatientId" id="PatientId" class="form-control" #PatientId="ngModel" required
                    [(ngModel)]="labService.formpat.PatientId">
                    <option value=0 disabled>Choose Patient Name</option>
                    <option *ngFor="let dept of labService.getPatients" value="{{dept.PatientId}}">
                        {{dept.PatientId}}.{{dept.PatientName}}</option>
                </select>
                <div class="validation-error" *ngIf="PatientId.touched && PatientId.invalid">
                    <div  style="color: red; text-align: left;" *ngIf="PatientId.errors.required">Patient Name is required</div>
                </div>
            </div>

            <!--<div *ngFor="let dept of labService.getPatients">{{dept.PatientId}}{{dept.PatientName}}</div>-->



            <!--ClinicId-->
            <br>
            <div class="form-group">
                <!--<label for="ClinicId">Clinic Id</label>-->
                <input type="hidden" name="ClinicId" #ClinicId="ngModel" [(ngModel)]="labService.formLab.ClinicId"
                    class="form-control" required 
                    [ngClass]="{'is-invalid': ClinicId.touched && ClinicId.invalid}" 
                    value=1/>
                
                <!--   <div class="validation-errors" *ngIf="ClinicId.touched && ClinicId.invalid">
                             <div *ngIf="ClinicId.errors.required">Clinic Id is required</div>
                    
                        </div>
                --> 
            </div>

            <!--LabtechnicianId-->
            <br>
            <div class="form-group">
                <label for="LabtechnicianId">Labtechnician Id</label>
                <input type="text" name="LabtechnicianId" #LabtechnicianId="ngModel"
                    [(ngModel)]="labService.formLab.LabtechnicianId" class="form-control" required
                    [ngClass]="{'is-invalid': LabtechnicianId.touched && LabtechnicianId.invalid}"
                    disabled="this.labService.edit" />
                <div class="validation-errors" *ngIf="LabtechnicianId.touched && LabtechnicianId.invalid">
                    <div  style="color: red; text-align: left;" *ngIf="LabtechnicianId.errors.required">Labtechnician Id is required</div>
                </div>
            </div>


            <!--Isactive-->
            <br>
            <div class="form-group">
                <!--<label for="Isactive">Is active</label>-->
                <input type="hidden" style="margin-right: 1%; margin-top:1%;" name="Isactive" #Isactive="ngModel"
                    [(ngModel)]="labService.formLab.Isactive" value="true"/>

            </div>

            <!--Submit button-->
            <br>
            <br>
            <div class="form-group">
                <button type="reset" class="btn btn-md btn-primary" (click)="back()">
                    Back</button>
                <button type="submit"  class="btn btn-lg btn-success"
                    style="margin-left: 80%;">
                    Submit</button>

                    <!--[disabled]="!(labForm.valid && labForm.dirty)"-->
            </div>

        </form>
    </div>
</body>